---
import { reviews } from "../data/reviews";
import "@splidejs/splide/css";
// import initSplide from '../scripts/initSplide.js';
---

<section class="py-20 px-8 bg-white">
  <div class="container mx-auto text-center">
    <h2 class="text-5xl font-bold text-primary-dark mb-12">
      What Our Customers Say
    </h2>
    <div
      id="reviews-carousel"
      class="splide"
      role="group"
      aria-label="Customer Reviews"
    >
      <div class="splide__track">
        <ul class="splide__list">
          {
            reviews.map((review) => (
              <li class="splide__slide p-6 mx-4 flex flex-col items-center justify-center">
                <p class="text-lg italic mb-4">"{review.quote}"</p>
                <p class="text-xl font-semibold text-primary-dark">
                  - {review.author}
                </p>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </div>
</section>
<script>
  import { Splide } from "@splidejs/splide";
  import { AutoScroll } from "@splidejs/splide-extension-auto-scroll";
  document.addEventListener("DOMContentLoaded", function () {
    new Splide("#reviews-carousel", {
      type: "loop",
      drag: "free",
      focus: "center",
      perPage: 3,
      autoScroll: {
        speed: 1,
      },
      breakpoints: {
        1024: { perPage: 2 },
        768: { perPage: 1 },
      },
    }).mount({ AutoScroll });
  });
</script>
